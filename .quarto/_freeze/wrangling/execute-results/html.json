{
  "hash": "c6d645f8d45f478a5b6efd6522b1e22a",
  "result": {
    "engine": "knitr",
    "markdown": "# Data Wrangling\nThis is a book created from markdown and executable code. See @knuth84 for additional discussion of literate programming. Nonetheless, this study's data processing and profiling was extensive; raw and transformed datasets were profiled using the Data-Explorer R package, specifically the report creation workflow to compute standardized data profiling reports \\parencite{DataExplorer2025}. \n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressWarnings(suppressPackageStartupMessages({\n  library(data.table)\n  library(tidyverse)\n  library(tidymodels)\n  library(naniar)\n  library(readxl)\n  library(janitor)\n  library(rmarkdown)\n  library(knitr)\n  library(kableExtra)\n  library(modelsummary)\n  library(DoubleML)\n  library(mlr3)\n  library(broom)\n  library(sandwich)\n  library(lmtest)\n  library(mlr3learners)\n  library(readr)\n  library(MatchIt)\n  library(ggplot2)\n  library(dplyr)\n  library(summarytools)\n  library(DataExplorer)\n  library(mlr3learners)\n  library(mlr3measures)\n  library(mlr3resampling) \n}))\nload(\"correctional_stats_report_environment1b.RData\")\nac1b <- df |>\n  mutate(\n    ac1a = factor(\n      dplyr::recode(\n        as.character(age_category),\n        \"18 to 24\" = \"1\",\n        \"25 to 49\" = \"2\",\n        \"50+\" = \"3\"\n      ),\n      levels = c(\"1\", \"2\", \"3\"),\n      ordered = TRUE\n    )\n  ) |>\n  group_by(ac1a) |>\n  summarise(\n    f = dplyr::n(),\n    n = dplyr::n_distinct(unique_individual_id),\n    .groups = \"drop\"\n  ) |>\n  arrange(ac1a) |>\n  mutate(\n    p = round(n / sum(n), 2),\n    pct = round(100 * n / sum(n), 2),\n    rate = round(10000 * n / sum(n), 2)\n  )\nvars <- c(\n  \"gender\",\n  \"age_category\",\n  \"region_at_time_of_placement\",\n  \"region_most_recent_placement\",\n  \"mental_health_alert\",\n  \"suicide_watch_alert\",\n  \"suicide_risk_alert\"\n)\ndf.counts <- df |>\n  group_by(region_at_time_of_placement) |>\n  summarise(\n    f = n(),\n    count = n_distinct(unique_individual_id),\n    .groups = \"drop\"\n\n  ) |>\n  mutate(p = count / sum(count), pct = p * 100, rate = p * 10000)\ndf.counts_ac_year <- df |>\n  pivot_longer(all_of(vars), names_to = \"variable\", values_to = \"level\") |>\n  group_by(end_fiscal_year, variable, level) |>\n  summarise(\n    f = n(),\n    count = n_distinct(unique_individual_id),\n    .groups = \"drop\"\n  ) |>\n  group_by(end_fiscal_year, variable) |>\n  mutate(p = count / sum(count), pct = 100 * p, rate = 10000 * p) |>\n  ungroup()\ndf.counts_year <- df |>\n  group_by(end_fiscal_year, region_at_time_of_placement) |>\n  summarise(\n    f = n(),\n    count = n_distinct(unique_individual_id),\n    .groups = \"drop\"\n  ) |>\n  group_by(end_fiscal_year) |>\n  mutate(p = count / sum(count), pct = 100 * p, rate = 10000 * p) |>\n  ungroup()\ndf.person_freq_year <- df |>\n  group_by(\n    end_fiscal_year,\n    region_at_time_of_placement,\n    unique_individual_id\n  ) |>\n  summarise(freq = n(), .groups = \"drop\")\necdf_age <- ac1b |>\n  arrange(ac1a) |>\n  mutate(ecdf = cumsum(p))\nevents_per_person <- df |>\n  count(unique_individual_id, name = \"n_events\") |>\n  pull(n_events)\ntotal_people <- df |>\n  summarise(N = n_distinct(unique_individual_id)) |>\n  pull(N)\ndf_overall <- df |>\n  select(unique_individual_id, all_of(vars)) |>\n  pivot_longer(all_of(vars), names_to = \"variable\", values_to = \"level\") |>\n  group_by(variable, level) |>\n  summarise(\n    f = n(),\n    count = n_distinct(unique_individual_id),\n    .groups = \"drop\"\n  ) |>\n  mutate(\n    p = count / total_people,\n    pct = 100 * p,\n    rate = 10000 * p\n  )\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}